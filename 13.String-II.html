<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="UTF-8">
	<title>String II</title>
</head>
<body>

  <h3>Métodos de Strings em JavaScript:</h3>
  <h4>Length:</h4>
  <p id="qtd-char"></p>

  <h4>indexOf():</h4>
  <p id="indexOf">Por favor localize neste parágrafo o indice que contem a string "localização" ao clicar no botão.</p>
  <button onclick="localizarIndexOf();">Localizar</button>
  <p id="exibir-indexOf"></p>

  <h4>search():</h4>
  <p id="search">Localize neste parágrafo o indice que contem a string "palavra" ao clicar no botão.</p>
  <button onclick="pesquisarComSearch();">Pesquisar</button>
  <p id="exibir-search"></p>

  <h4>slice():</h4>
  <p id="slice"></p>

  <h4>substring():</h4>
  <p id="substring"></p>

  <h4>substr():</h4>
  <p id="substr"></p>

  <h4>replace():</h4>
  <button onclick="editarTexto();">Alterar</button>
  <button onclick="editarTudo();">Alterar Todas</button>
  <p id="replace">Este é o parágrafo que tem uma palavra e que será alterada por outra palavra em javascript usando o método replace.</p>

  <h4>toUpperCase() e toLowerCase():</h4>
  <button onclick="transformarParaMaiuscula();">CAIXA ALTA</button>
  <button onclick="transformarParaMinuscula();">caixa baixa</button>
  <p id="toUpperCase">Hello World!</p>

  <h4>concat():</h4>
  <p id="concat"></p>

  <h4>charAt():</h4>
  <p id="charAt"></p>
  <p id="charCodeAt"></p>

  <h4>split():</h4>
  <button onclick="stringToArray();">Separar</button>
  <p id="split"></p>

  <h4>split() com for:</h4>
  <p id="splitDois"></p>

  <script>
    var cadeia = "CARLOS";
    var string = "Maça,Maracujá,Uva";

    document.getElementById("qtd-char").innerHTML = "A cadeia CARLOS tem " + cadeia.length + " caracteres.";

    /*
      Pegar uma parte de uma string através de:
        nomeVariavel.slice(indice-inicial, indice-final);

      Pegar uma parte de uma string de trás para frente com indices negativo:
        nomeVariavel.slice(-indice-inicial, -indice-final);

      Pegar todo a parte restante de uma string, colocando só um único argumento no método slice(indice-inicial);
    */
    document.getElementById("slice").innerHTML = string.slice(6,14);

    /*substring funciona como slice, mas não suporta indice negativo*/
    document.getElementById("substring").innerHTML = string.substring(0,4);

    /*substr(indice-inicial, comprimento)*/
    document.getElementById("substr").innerHTML = string.substr(16,3);

    /*Concatenação de string com o método concat();*/
    document.getElementById("concat").innerHTML = cadeia.concat(" com ", string);

    /*Obter um caractere de uma string a partir de um índice, usando charAt():*/
    document.getElementById("charAt").innerHTML = cadeia.charAt(2);

    /*Obter um unicode de um caractere apartir de uma string de acordo com um índice, usando charCodeAt():*/
    document.getElementById("charCodeAt").innerHTML = cadeia.charCodeAt(2);

    /*Obter o índice do início de uma cadeia de caracteres localizada dentro de uma string*/
    function localizarIndexOf() {
      var string = document.getElementById("indexOf").innerHTML;
      var posicaoInicial = string.indexOf("localização");
      /*
        Retorna o mesmo valor que o indexOf();
        var posicaoFinal = string.lastIndexOf("localização");

        PS.: Lembrando que ambos [indexOf() e lastIndexOf()] retornam -1 caso a cadeia de caracteres não seja encontrada.
      */
      document.getElementById("exibir-indexOf").innerHTML = posicaoInicial;
    }

    function pesquisarComSearch(){
      var string = document.getElementById("search").innerHTML;
      var posicaoSearch = string.search("palavra");
      document.getElementById("exibir-search").innerHTML = posicaoSearch;
    }

    function editarTexto() {
      var string = document.getElementById("replace").innerHTML;
      var newString = string.replace("palavra", "STRING");
      document.getElementById("replace").innerHTML = newString;
    }

    function editarTudo() {
      var string = document.getElementById("replace").innerHTML;
      /*Expressão regular [/string/g] para alterar todas as ocorrências daquela string entre as barras.*/
      var newString = string.replace(/palavra/g, "STRING");
      document.getElementById("replace").innerHTML = newString;
    }

    function transformarParaMaiuscula() {
      var texto = document.getElementById("toUpperCase").innerHTML;
      document.getElementById("toUpperCase").innerHTML = texto.toUpperCase();
    }

    function transformarParaMinuscula() {
      var texto = document.getElementById("toUpperCase").innerHTML;
      document.getElementById("toUpperCase").innerHTML = texto.toLowerCase();
    }

    function stringToArray() {
      var string = "a,b,c,d,e,f";
      var vetor = string.split(",");
      var newString = "";
      //console.log(vetor);
      document.getElementById("split").innerHTML = vetor[3];

      for(var i = 0; i < vetor.length; i++) {
        newString += vetor[i] + "<br>";
      }
      document.getElementById("splitDois").innerHTML = newString;
    }
  </script>
</body>
</html>